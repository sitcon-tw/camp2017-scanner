webpackJsonp([0],[,function(e,t,n){function o(e){n(6)}var r=n(0)(n(4),n(9),o,null,null);e.exports=r.exports},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(1),i=n.n(r);o.a.config.productionTip=!1,new o.a({el:"#app",template:"<App/>",components:{App:i.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n.n(o);t.default={name:"app",components:{QrcodeReader:r.a},beforeMount:function(){this.getIsTelegram()&&window.open(window.location.href,"_top")},methods:{OnSuccess:function(e){this.parameters().token},parameters:function(){return location.search.split("?").pop().split("&").map(function(e){var t=e.split("="),n={};return n[t.shift()]=t.join("="),n}).reduce(function(e,t){var n=e;for(var o in t)n[o]=t[o];return n})},getQueryString:function(){for(var e={},t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var i=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=i}else e[r[0]].push(decodeURIComponent(r[1]))}return e},getIsTelegram:function(){var e=this.getQueryString();return!!(e.inlineId||e.chatId||e.messageId||e.userId)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"QrcodeReader",props:{title:{type:String,default:""},subTitle:{type:String,default:""},enable:Boolean,noResult:Boolean,width:{type:String,default:"320px"},height:{type:String,default:"240px"}},data:function(){return{result:"Loading...",cam:null,webrtc:!0,scanner:null}},watch:{enable:function(e){this.scanner.setStopped(!e)}},mounted:function(){var e=this;window.w69b.qr.decoding.setWorkerUrl("public/barcode.js/w69b.qrcode.decodeworker.min.js"),navigator.mediaDevices&&!window.navigator.userAgent.match(/iPhone|iPad|iPod/i)?(e.webrtc=!0,e.scanner=new window.w69b.qr.ui.ContinuousScanner,e.scanner.setDecodedCallback(function(t){e.onSuccess(t)}),e.scanner.render(document.getElementById("camsource"))):(e.webrtc=!1,console.log("Sorry, native web camera streaming (getUserMedia) is not supported by this browser..."))},beforeDestroy:function(){if(navigator.mediaDevices){var e=this;e.scanner.setStopped(!0),e.scanner.dispose()}},methods:{onSuccess:function(e){this.result=e,this.$emit("OnSuccess",e)},uploadChange:function(){var e=this,t=document.getElementById("upload").files[0];/^image\//.test(t.type)||console.log("File type not valid");var n=new FileReader;n.addEventListener("load",function(){var t=new Image;t.onload=function(n){(new window.w69b.qr.decoding.Decoder).decode(t).then(function(t){e.onSuccess(t.text)},function(){e.$emit("OnError","no qr code found")})},t.src=this.result}.bind(n),!1),n.readAsDataURL(t)}}}},function(e,t){},function(e,t){},function(e,t,n){function o(e){n(7)}var r=n(0)(n(5),n(10),o,null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("qrcode-reader",{attrs:{enable:!0,noResult:!0,title:"",subTitle:"請掃描點數 QRcode"},on:{OnSuccess:e.OnSuccess}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"QrcodeReader"}},[n("center",[""!=e.title?n("h2",{staticClass:"ma-0"},[e._v(e._s(e.title))]):e._e(),e._v(" "),""!==e.subTitle?n("p",{attrs:{role:"subTitle"}},[e._v(e._s(e.subTitle))]):e._e(),e._v(" "),e.webrtc?n("div",{attrs:{id:"camsource"}}):n("div",{attrs:{id:"uploadField"}},[n("label",{attrs:{id:"uploadButton",for:"upload"}}),e._v(" "),n("input",{attrs:{type:"file",id:"upload"},on:{change:e.uploadChange}})]),e._v(" "),e.noResult?e._e():n("h6",{staticClass:"ma-0"},[e._v(e._s(e.result))])])],1)},staticRenderFns:[]}}],[3]);
//# sourceMappingURL=app.eadde12cd81d78a51352.js.map